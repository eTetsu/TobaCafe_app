卒業制作用Webアプリケーションの覚え書き

卒業制作として、喫煙できるカフェを掲載・検索できるアプリの作成を検討

以下を満たす、Webアプリケーションを作成したい(差別化ポイント)
- 大衆向け
  - コーヒー１杯の値段が安価
- 長居しやすい
  - 席数が多くある
  - 複数階ある（必須ではない）人の目が気になりにくい
- 喫煙スペースがある
  - 必ず喫煙のためのスペースがある
  - テーブルの喫煙席がある（必須ではない）


### 無視してください ###
質問したいこと
  - このアプリで卒業制作を進めて良いのか
    - (ベースはメモアプリになるのか、掲示板アプリになるのか)

  - オリジナリティはどこまで必要か
    - 既存の大手グルメサイトでも「喫煙できるカフェ」の検索は容易にできる...
  
  - 大まかに年末の連休までに、「issueベースの開発」まで終わらせることは現実的に可能か
    - 不可能でも、一部機能の実装に着手してもいいのか


MVPリリースに必要な機能
  Must（必須）：これがないとサービスが成立しない機能
  1. カフェ検索・一覧表示機能
  エリア（都道府県・市区町村）で絞り込み検索
  検索結果一覧の表示（店舗名・最寄り駅・コーヒー価格・席数）
  地図表示（Google Maps API連携）
  2. カフェ詳細表示機能
  店舗の基本情報表示
  店舗名・住所・最寄り駅・営業時間
  コーヒー価格・席数・喫煙環境（分煙/全面喫煙可）
  Wi-Fi有無・電源有無
  ユーザーレビューの表示
  3. ユーザー登録・ログイン機能
  メールアドレス・パスワードでのユーザー登録
  ログイン・ログアウト機能
  プロフィール表示（ニックネーム程度）
  4. レビュー投稿機能
  実際に利用したカフェへのレビュー投稿
  評価項目：作業のしやすさ（5段階評価）
  コメント欄（自由記述）
  5. お気に入り機能
  カフェをお気に入り登録
  お気に入り一覧の表示
  6. 管理者機能
  カフェ情報の新規登録・編集・削除

  Should（優先）：MVPには含めないが、早期に実装したい機能
  1. SNSシェア機能
  レビュー投稿後にX（旧Twitter）でシェアできるボタン
  シェア時のテンプレート文言・ハッシュタグ自動挿入
  2. 詳細な絞り込み検索
  コーヒー価格帯での絞り込み
  Wi-Fi・電源の有無での絞り込み
  営業時間帯での絞り込み
  3. レビューの並び替え
  新着順・評価順での並び替え

  Could（拡張）：将来的に追加したい機能
  1. リアルタイム混雑状況
  ユーザーのチェックイン機能
  混雑度の可視化
  2. 作業環境スコアの数値化
  Wi-Fi速度・電源数・騒音レベルなどを数値化
  「作業しやすさ」の客観的評価
  3. 時間帯別の推奨情報
  曜日・時間帯別の混雑傾向データ
  4. 通知機能
  お気に入り店舗の新規レビュー通知
  近くのカフェの空き状況通知


MVPの開発優先順位
フェーズ1：最小限の検索・閲覧機能
カフェ一覧表示
カフェ詳細表示
エリア検索
フェーズ2：ユーザー参加型機能
ユーザー登録・ログイン
レビュー投稿
お気に入り機能
フェーズ3：利便性向上
地図表示
絞り込み検索


MVPで必要なテーブル（参考）
| テーブル名 | 主な役割 |
|---------|--------|
| users | ユーザー情報（ニックネーム・メール・パスワード） |
| boards | カフェ情報（店舗名・住所・価格・席数・喫煙環境・Wi-Fi・電源） |
| reviews | レビュー情報（評価・コメント・ユーザーID・カフェID） |
| favorites | お気に入り情報（ユーザーID・カフェID） |


使用する技術スタック
1. フレームワーク
  Ruby on Rails 7.0系（最新の安定版を使用）
  Ruby 3.2系を使用
  Hotwire（Turbo・Stimulus）を活用し、ページ遷移を高速化
  基本的なCRUD操作はRailsの規約に沿って実装
2. データベース
  PostgreSQL
  本番環境・開発環境ともにPostgreSQLを使用
  地理情報（緯度経度）を扱う可能性があるため、PostGIS拡張も将来的に検討
3. デプロイ先
  Render
  無料枠でPostgreSQLが使える
  Herokuの代替として安定性が高い
  自動デプロイ設定が簡単
4. 使用予定のGem（ライブラリ）
  認証・ユーザー管理
  - Devise（ユーザー登録・ログイン機能）==>> Sorceryへ変更
    メールアドレス・パスワードでの認証
    パスワードリセット機能も標準搭載
  ページネーション
  - kaminari（一覧表示のページ分割）
    カフェ一覧・レビュー一覧で使用
    シンプルで使いやすい
  画像アップロード（将来的に）
  - ActiveStorage（Railsの標準機能）
    カフェの写真やユーザーアイコンのアップロード
    Amazon S3との連携も可能
  地図表示
  - Google Maps API（JavaScript）
    カフェの位置情報を地図上に表示
    検索結果を地図上にピン表示
  住所・位置情報の取得
  - Geocoder（住所から緯度経度を取得）
    カフェの住所を登録時に自動で緯度経度に変換
    地図表示や距離計算に使用
  検索機能
  - Ransack（詳細な絞り込み検索）
    エリア・価格帯・Wi-Fi有無などでの絞り込み
    並び替え機能も実装可能
  環境変数管理
  - dotenv-rails（開発環境での環境変数管理）
    Google Maps APIキーなどの秘密情報を安全に管理
  コード品質管理
  - RuboCop（コードの静的解析）
    コードスタイルを統一
    バグの早期発見

docker開発
Ruby 3.3.6
Rails 7.2.3
PostgreSQL 16.8
Renderデプロイ
